<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        *{
            padding: 0;
            margin: 0;
            list-style: none;
        }
        #top{
            padding: 20px;
        }
        #bottom{
            position: relative;
        }
        .box{
            width: 263px;
            height: 250px;
            background-color: #eee;
        }
        .box p:last-child{
            color: orangered;
        }
    </style>
</head>
<body>
    <div id="top">
        <button>3列</button>
        <button>4列</button>
        <button>5列</button>
    </div>
    <div id="bottom">
        <div class="box">
            <img src="gf01.jpeg" alt="">
            <p>因为遇见你</p>
            <p>收费散发复健科</p>
        </div>
        <div class="box">
            <img src="gf01.jpeg" alt="">
            <p>因为遇见你</p>
            <p>收费散发复健科</p>
        </div>
        <div class="box">
            <img src="gf01.jpeg" alt="">
            <p>因为遇见你</p>
            <p>收费散发复健科</p>
        </div>
        <div class="box">
            <img src="gf01.jpeg" alt="">
            <p>因为遇见你</p>
            <p>收费散发复健科</p>
        </div>
        <div class="box">
            <img src="gf01.jpeg" alt="">
            <p>因为遇见你</p>
            <p>收费散发复健科</p>
        </div>
        <div class="box">
            <img src="gf01.jpeg" alt="">
            <p>因为遇见你</p>
            <p>收费散发复健科</p>
        </div>
        <div class="box">
            <img src="gf01.jpeg" alt="">
            <p>因为遇见你</p>
            <p>收费散发复健科</p>
        </div>
        <div class="box">
            <img src="gf01.jpeg" alt="">
            <p>因为遇见你</p>
            <p>收费散发复健科</p>
        </div>
        <div class="box">
            <img src="gf01.jpeg" alt="">
            <p>因为遇见你</p>
            <p>收费散发复健科</p>
        </div>
    </div>
    <script>
        window.onload = function(){
            // 1. 获取标签
            var btns = document.getElementById("top").children;
            var bottom = document.getElementById("bottom");
            // 2. 监听按钮的点击
             /*btns[0].onclick = function(){
                //2.1 定义变量
                var boxW = 263, boxH = 250, marginXY = 15,allcos = 3;
                //2.2 遍历
                for(i = 0; i<bottom.children.length;i++){
                    // 2.2.1 求盒子在的行列 
                    var row = parseInt(i / allcos);
                    var col = parseInt(i % allcos);
                    // console.log("当前盒子在第"+ row + ",第"+ col);
                    // 2.2.2 盒子的定位
                    var currentBox = bottom.children[i];
                    currentBox.style.position = "absolute";
                    currentBox.style.left = col * (boxW + marginXY) + "px";
                    currentBox.style.top = row * (boxH + marginXY) + "px";
                }

            }
            btns[1].onclick = function(){
                //2.1 定义变量
                var boxW = 263, boxH = 250, marginXY = 15,allcos = 4;
                //2.2 遍历
                for(i = 0; i<bottom.children.length;i++){
                    // 2.2.1 求盒子在的行列 
                    var row = parseInt(i / allcos);
                    var col = parseInt(i % allcos);
                    // console.log("当前盒子在第"+ row + ",第"+ col);
                    // 2.2.2 盒子的定位
                    var currentBox = bottom.children[i];
                    currentBox.style.position = "absolute";
                    currentBox.style.left = col * (boxW + marginXY) + "px";
                    currentBox.style.top = row * (boxH + marginXY) + "px";
                }

            }
            btns[2].onclick = function(){
                //2.1 定义变量
                var boxW = 263, boxH = 250, marginXY = 15,allcos = 5;
                //2.2 遍历
                for(i = 0; i<bottom.children.length;i++){
                    // 2.2.1 求盒子在的行列 
                    var row = parseInt(i / allcos);
                    var col = parseInt(i % allcos);
                    // console.log("当前盒子在第"+ row + ",第"+ col);
                    // 2.2.2 盒子的定位
                    var currentBox = bottom.children[i];
                    currentBox.style.position = "absolute";
                    currentBox.style.left = col * (boxW + marginXY) + "px";
                    currentBox.style.top = row * (boxH + marginXY) + "px";
                }
            }*/
            btns[0].onclick = function(){
                j_flex(3,bottom);
            }
            btns[1].onclick = function(){
                j_flex(4,bottom);
            }
            btns[2].onclick = function(){
                j_flex(5,bottom);
            }
            

            function j_flex(allCols,parentNode){
                //2.1 定义变量
                var boxW = 263, boxH = 250, marginXY = 15;
                //2.2 遍历
                for(i = 0; i<parentNode.children.length;i++){
                    // 2.2.1 求盒子在的行列 
                    var row = parseInt(i / allCols);
                    var col = parseInt(i % allCols);
                    // console.log("当前盒子在第"+ row + ",第"+ col);
                    // 2.2.2 盒子的定位
                    var currentBox = parentNode.children[i];
                    currentBox.style.position = "absolute";
                    currentBox.style.left = col * (boxW + marginXY) + "px";
                    currentBox.style.top = row * (boxH + marginXY) + "px";
                }
            }
        }
        
    </script>
</body>
</html>